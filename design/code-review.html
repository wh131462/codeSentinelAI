<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeSentinel - ‰ª£Á†ÅÂÆ°Êü•</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            background-color: #000;
            color: #e2e8f0;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scrollbar-thin::-webkit-scrollbar { width: 4px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }

        .code-line { font-family: 'SF Mono', 'Fira Code', monospace; }
        .issue-line { background: rgba(239, 68, 68, 0.1); border-left: 3px solid #ef4444; }
        .suggestion-line { background: rgba(34, 197, 94, 0.1); border-left: 3px solid #22c55e; }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Icons ---
        const Icons = {
            Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />,
            GitPullRequest: <><circle cx="18" cy="18" r="3" /><circle cx="6" cy="6" r="3" /><path d="M13 6h3a2 2 0 0 1 2 2v7" /><line x1="6" x2="6" y1="9" y2="21" /></>,
            GitMerge: <><circle cx="18" cy="18" r="3" /><circle cx="6" cy="6" r="3" /><path d="M6 21V9a9 9 0 0 0 9 9" /></>,
            AlertTriangle: <><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" /><line x1="12" x2="12" y1="9" y2="13" /><line x1="12" x2="12.01" y1="17" y2="17" /></>,
            AlertCircle: <><circle cx="12" cy="12" r="10" /><line x1="12" x2="12" y1="8" y2="12" /><line x1="12" x2="12.01" y1="16" y2="16" /></>,
            CheckCircle2: <><circle cx="12" cy="12" r="10" /><path d="m9 12 2 2 4-4" /></>,
            XCircle: <><circle cx="12" cy="12" r="10" /><path d="m15 9-6 6" /><path d="m9 9 6 6" /></>,
            Info: <><circle cx="12" cy="12" r="10" /><path d="M12 16v-4" /><path d="M12 8h.01" /></>,
            Code: <><polyline points="16 18 22 12 16 6" /><polyline points="8 6 2 12 8 18" /></>,
            FileCode: <><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /><path d="m10 13-2 2 2 2" /><path d="m14 17 2-2-2-2" /></>,
            Search: <><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></>,
            Filter: <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />,
            Zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />,
            Sparkles: <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z" />,
            Bug: <><path d="m8 2 1.88 1.88" /><path d="M14.12 3.88 16 2" /><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1" /><path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6" /><path d="M12 20v-9" /><path d="M6.53 9C4.6 8.8 3 7.1 3 5" /><path d="M6 13H2" /><path d="M3 21c0-2.1 1.7-3.9 3.8-4" /><path d="M20.97 5c0 2.1-1.6 3.8-3.5 4" /><path d="M22 13h-4" /><path d="M17.2 17c2.1.1 3.8 1.9 3.8 4" /></>,
            ShieldAlert: <><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" /><path d="M12 8v4" /><path d="M12 16h.01" /></>,
            Gauge: <><path d="m12 14 4-4" /><path d="M3.34 19a10 10 0 1 1 17.32 0" /></>,
            Clock: <><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>,
            User: <><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></>,
            ChevronRight: <path d="m9 18 6-6-6-6" />,
            ChevronDown: <path d="m6 9 6 6 6-6" />,
            ArrowLeft: <><path d="m12 19-7-7 7-7" /><path d="M19 12H5" /></>,
            Eye: <><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" /><circle cx="12" cy="12" r="3" /></>,
            Copy: <><rect width="14" height="14" x="8" y="8" rx="2" ry="2" /><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" /></>,
            ThumbsUp: <><path d="M7 10v12" /><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z" /></>,
            ThumbsDown: <><path d="M17 14V2" /><path d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z" /></>,
            MessageSquare: <><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" /></>,
            RotateCcw: <><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12" /><path d="M3 3v9h9" /></>,
            ExternalLink: <><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" x2="21" y1="14" y2="3" /></>,
            Lightbulb: <><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5" /><path d="M9 18h6" /><path d="M10 22h4" /></>,
        };

        const Lucide = ({ name, className, size = 16 }) => {
            const icon = Icons[name];
            return icon ? (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icon}
                </svg>
            ) : null;
        };

        // --- Navbar ---
        const Navbar = ({ active }) => (
            <nav className="h-16 flex items-center justify-between px-8 border-b border-white/5 bg-[#0A0A0A]/80 backdrop-blur-md sticky top-0 z-50">
                <div className="flex items-center gap-8">
                    <a href="index.html" className="flex items-center gap-3 group">
                        <div className="w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-500/20 group-hover:scale-105 transition-transform">
                            <Lucide name="Shield" className="text-white" size={20} />
                        </div>
                        <span className="font-bold text-xl tracking-tight text-white group-hover:text-white/90 transition-colors">
                            CodeSentinel <span className="text-indigo-400 text-xs ml-1 font-normal bg-indigo-500/10 px-1.5 py-0.5 rounded border border-indigo-500/20">Ent</span>
                        </span>
                    </a>
                    <div className="hidden md:flex items-center bg-white/5 rounded-lg p-1 border border-white/5">
                        {[
                            { id: 'overview', label: '‰ª™Ë°®Áõò', href: 'overview.html' },
                            { id: 'workspace', label: 'Â∑•‰ΩúÂè∞', href: 'workspace.html' },
                            { id: 'mapping', label: 'ÈúÄÊ±ÇÊò†Â∞Ñ', href: 'mapping.html' },
                            { id: 'pipeline', label: 'ÊµÅÊ∞¥Á∫ø', href: 'pipeline.html' },
                            { id: 'configuration', label: '‰ªìÂ∫ìÈÖçÁΩÆ', href: 'configuration.html' }
                        ].map((item) => (
                            <a key={item.id} href={item.href} className={`px-5 py-1.5 rounded-md text-sm font-medium transition-all ${active === item.id ? 'bg-white/10 text-white shadow-sm' : 'text-white/40 hover:text-white/80 hover:bg-white/5'}`}>
                                {item.label}
                            </a>
                        ))}
                    </div>
                </div>
                <div className="flex items-center gap-4">
                    <div className="flex items-center gap-3 pl-4">
                        <div className="flex flex-col items-end">
                            <span className="text-xs font-medium text-white">Âº†‰∏â (Dev)</span>
                            <span className="text-[10px] text-white/40">GitLab Pro</span>
                        </div>
                        <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 p-[1px]">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" className="w-full h-full rounded-full bg-black" />
                        </div>
                    </div>
                </div>
            </nav>
        );

        // --- Mock Data ---
        const REVIEW_DATA = {
            id: 'MR-2847',
            title: 'feat: ÂÆûÁé∞Level 2Áî®Êà∑ËøêË¥πËÆ°ÁÆóÈÄªËæë',
            branch: 'feat/shipping-logic',
            targetBranch: 'main',
            author: 'Âº†‰∏â',
            createdAt: '2024-01-18 10:30',
            status: 'needs_revision',
            aiScore: 72,
            filesChanged: 5,
            additions: 128,
            deletions: 23,
            commits: 3,
            issues: [
                {
                    id: 1,
                    severity: 'critical',
                    type: 'security',
                    file: 'src/services/ShippingCalculator.java',
                    line: 45,
                    title: 'SQL Ê≥®ÂÖ•È£éÈô©',
                    description: 'Áõ¥Êé•ÊãºÊé•Áî®Êà∑ËæìÂÖ•Âà∞SQLÊü•ËØ¢‰∏≠ÔºåÂ≠òÂú®SQLÊ≥®ÂÖ•ÊºèÊ¥û',
                    suggestion: '‰ΩøÁî®ÂèÇÊï∞ÂåñÊü•ËØ¢ÊàñPreparedStatementÊõø‰ª£Â≠óÁ¨¶‰∏≤ÊãºÊé•',
                    code: 'String query = "SELECT * FROM users WHERE id = " + userId;',
                    fixCode: 'PreparedStatement stmt = conn.prepareStatement("SELECT * FROM users WHERE id = ?");\nstmt.setString(1, userId);',
                    aiConfidence: 98,
                    prdRef: null
                },
                {
                    id: 2,
                    severity: 'high',
                    type: 'logic',
                    file: 'src/services/ShippingCalculator.java',
                    line: 78,
                    title: 'ËæπÁïåÊù°‰ª∂Áº∫Â§±',
                    description: 'Êú™Â§ÑÁêÜËÆ¢ÂçïÈáëÈ¢ù‰∏∫Ë¥üÊï∞ÁöÑÊÉÖÂÜµÔºåÂèØËÉΩÂØºËá¥ËøêË¥πËÆ°ÁÆóÈîôËØØ',
                    suggestion: 'Ê∑ªÂä†ËÆ¢ÂçïÈáëÈ¢ùÁöÑÊúâÊïàÊÄßÊ†°È™å',
                    code: 'if (order.getAmount().compareTo(new BigDecimal("100")) > 0) {',
                    fixCode: 'if (order.getAmount().compareTo(BigDecimal.ZERO) < 0) {\n    throw new IllegalArgumentException("ËÆ¢ÂçïÈáëÈ¢ù‰∏çËÉΩ‰∏∫Ë¥üÊï∞");\n}\nif (order.getAmount().compareTo(new BigDecimal("100")) > 0) {',
                    aiConfidence: 92,
                    prdRef: 'PRD-2024-001 Á¨¨4.2ËäÇ'
                },
                {
                    id: 3,
                    severity: 'medium',
                    type: 'performance',
                    file: 'src/services/OrderService.java',
                    line: 156,
                    title: 'N+1 Êü•ËØ¢ÈóÆÈ¢ò',
                    description: 'Âú®Âæ™ÁéØ‰∏≠ÊâßË°åÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÔºåÂèØËÉΩÂØºËá¥ÊÄßËÉΩÈóÆÈ¢ò',
                    suggestion: '‰ΩøÁî®ÊâπÈáèÊü•ËØ¢ÊàñJOINÊõø‰ª£Âæ™ÁéØÊü•ËØ¢',
                    code: 'for (Order order : orders) {\n    User user = userRepository.findById(order.getUserId());\n}',
                    fixCode: 'List<Long> userIds = orders.stream().map(Order::getUserId).collect(Collectors.toList());\nMap<Long, User> userMap = userRepository.findAllById(userIds).stream()\n    .collect(Collectors.toMap(User::getId, u -> u));',
                    aiConfidence: 88,
                    prdRef: null
                },
                {
                    id: 4,
                    severity: 'low',
                    type: 'style',
                    file: 'src/controllers/CheckoutController.java',
                    line: 42,
                    title: 'È≠îÊ≥ïÊï∞Â≠ó',
                    description: '‰ª£Á†Å‰∏≠‰ΩøÁî®Á°¨ÁºñÁ†ÅÊï∞ÂÄºÔºåÈôç‰ΩéÂèØËØªÊÄßÂíåÂèØÁª¥Êä§ÊÄß',
                    suggestion: 'Â∞ÜÈ≠îÊ≥ïÊï∞Â≠óÊèêÂèñ‰∏∫Â∏∏Èáè',
                    code: 'if (retryCount > 3) {',
                    fixCode: 'private static final int MAX_RETRY_COUNT = 3;\n// ...\nif (retryCount > MAX_RETRY_COUNT) {',
                    aiConfidence: 95,
                    prdRef: null
                },
                {
                    id: 5,
                    severity: 'info',
                    type: 'suggestion',
                    file: 'src/services/ShippingCalculator.java',
                    line: 92,
                    title: 'ÂèØ‰ºòÂåñÔºö‰ΩøÁî®Optional',
                    description: 'ÂèØ‰ª•‰ΩøÁî®OptionalÊù•‰ºòÂåñÁ©∫ÂÄºÊ£ÄÊü•ÔºåÊèêÈ´ò‰ª£Á†ÅÂèØËØªÊÄß',
                    suggestion: 'Â∞ÜÂ§öÂ±Çif-nullÊ£ÄÊü•ÊõøÊç¢‰∏∫OptionalÈìæÂºèË∞ÉÁî®',
                    code: 'if (user != null && user.getLevel() != null) {',
                    fixCode: 'Optional.ofNullable(user)\n    .map(User::getLevel)\n    .ifPresent(level -> {',
                    aiConfidence: 78,
                    prdRef: null
                }
            ],
            files: [
                { name: 'src/services/ShippingCalculator.java', additions: 68, deletions: 12, issues: 3 },
                { name: 'src/services/OrderService.java', additions: 35, deletions: 8, issues: 1 },
                { name: 'src/controllers/CheckoutController.java', additions: 15, deletions: 3, issues: 1 },
                { name: 'src/models/ShippingRule.java', additions: 8, deletions: 0, issues: 0 },
                { name: 'tests/ShippingCalculatorTest.java', additions: 2, deletions: 0, issues: 0 },
            ]
        };

        // --- Components ---
        const SeverityBadge = ({ severity }) => {
            const config = {
                critical: { label: '‰∏•Èáç', color: 'rose', icon: 'XCircle' },
                high: { label: 'È´ò', color: 'orange', icon: 'AlertTriangle' },
                medium: { label: '‰∏≠', color: 'amber', icon: 'AlertCircle' },
                low: { label: '‰Ωé', color: 'blue', icon: 'Info' },
                info: { label: 'Âª∫ËÆÆ', color: 'indigo', icon: 'Lightbulb' }
            };
            const { label, color, icon } = config[severity] || config.info;
            return (
                <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 bg-${color}-500/10 text-${color}-400 border border-${color}-500/20 rounded-full text-xs font-bold`}>
                    <Lucide name={icon} size={12} /> {label}
                </span>
            );
        };

        const TypeBadge = ({ type }) => {
            const config = {
                security: { label: 'ÂÆâÂÖ®', color: 'rose', icon: 'ShieldAlert' },
                logic: { label: 'ÈÄªËæë', color: 'purple', icon: 'Bug' },
                performance: { label: 'ÊÄßËÉΩ', color: 'amber', icon: 'Gauge' },
                style: { label: 'ËßÑËåÉ', color: 'blue', icon: 'Code' },
                suggestion: { label: '‰ºòÂåñ', color: 'indigo', icon: 'Sparkles' }
            };
            const { label, color, icon } = config[type] || { label: type, color: 'gray', icon: 'Code' };
            return (
                <span className={`inline-flex items-center gap-1 px-2 py-0.5 bg-${color}-500/10 text-${color}-400 rounded text-[10px] font-bold uppercase tracking-wider`}>
                    <Lucide name={icon} size={10} /> {label}
                </span>
            );
        };

        const IssueCard = ({ issue, isExpanded, onToggle }) => {
            return (
                <div className={`bg-[#0F0F0F] border rounded-xl overflow-hidden transition-all ${
                    issue.severity === 'critical' ? 'border-rose-500/30' :
                    issue.severity === 'high' ? 'border-orange-500/30' :
                    'border-white/5'
                }`}>
                    {/* Header */}
                    <div
                        className="p-5 cursor-pointer hover:bg-white/[0.02] transition-colors"
                        onClick={onToggle}
                    >
                        <div className="flex items-start justify-between gap-4">
                            <div className="flex items-start gap-4 flex-1">
                                <div className={`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${
                                    issue.severity === 'critical' ? 'bg-rose-500/20 text-rose-400' :
                                    issue.severity === 'high' ? 'bg-orange-500/20 text-orange-400' :
                                    issue.severity === 'medium' ? 'bg-amber-500/20 text-amber-400' :
                                    issue.severity === 'low' ? 'bg-blue-500/20 text-blue-400' :
                                    'bg-indigo-500/20 text-indigo-400'
                                }`}>
                                    <Lucide name={
                                        issue.type === 'security' ? 'ShieldAlert' :
                                        issue.type === 'logic' ? 'Bug' :
                                        issue.type === 'performance' ? 'Gauge' :
                                        issue.type === 'style' ? 'Code' : 'Sparkles'
                                    } size={20} />
                                </div>
                                <div className="flex-1 min-w-0">
                                    <div className="flex items-center gap-2 mb-2 flex-wrap">
                                        <SeverityBadge severity={issue.severity} />
                                        <TypeBadge type={issue.type} />
                                        {issue.prdRef && (
                                            <span className="text-[10px] text-purple-400 bg-purple-500/10 px-2 py-0.5 rounded border border-purple-500/20">
                                                üìÑ {issue.prdRef}
                                            </span>
                                        )}
                                    </div>
                                    <h4 className="text-white font-bold mb-1">{issue.title}</h4>
                                    <p className="text-sm text-white/50 line-clamp-2">{issue.description}</p>
                                    <div className="flex items-center gap-4 mt-3 text-xs text-white/30">
                                        <span className="flex items-center gap-1 font-mono">
                                            <Lucide name="FileCode" size={12} /> {issue.file.split('/').pop()}:{issue.line}
                                        </span>
                                        <span className="flex items-center gap-1">
                                            <Lucide name="Sparkles" size={12} className="text-indigo-400" /> AIÁΩÆ‰ø°Â∫¶: {issue.aiConfidence}%
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div className="flex items-center gap-2 shrink-0">
                                <Lucide
                                    name={isExpanded ? 'ChevronDown' : 'ChevronRight'}
                                    size={18}
                                    className="text-white/30"
                                />
                            </div>
                        </div>
                    </div>

                    {/* Expanded Content */}
                    {isExpanded && (
                        <div className="border-t border-white/5 bg-black/40">
                            {/* Code Preview */}
                            <div className="p-5 space-y-4">
                                <div>
                                    <div className="text-xs font-bold text-white/40 uppercase tracking-wider mb-2 flex items-center gap-2">
                                        <span className="w-2 h-2 rounded-full bg-rose-500"></span> ÈóÆÈ¢ò‰ª£Á†Å
                                    </div>
                                    <div className="bg-[#0A0A0A] border border-rose-500/20 rounded-lg overflow-hidden">
                                        <pre className="p-4 text-sm font-mono overflow-x-auto">
                                            <code className="text-rose-300">{issue.code}</code>
                                        </pre>
                                    </div>
                                </div>

                                <div>
                                    <div className="text-xs font-bold text-white/40 uppercase tracking-wider mb-2 flex items-center gap-2">
                                        <span className="w-2 h-2 rounded-full bg-emerald-500"></span> AI Âª∫ËÆÆ‰øÆÂ§ç
                                    </div>
                                    <div className="bg-[#0A0A0A] border border-emerald-500/20 rounded-lg overflow-hidden">
                                        <pre className="p-4 text-sm font-mono overflow-x-auto">
                                            <code className="text-emerald-300">{issue.fixCode}</code>
                                        </pre>
                                    </div>
                                </div>

                                <div className="bg-indigo-500/5 border border-indigo-500/20 rounded-lg p-4">
                                    <div className="flex items-start gap-3">
                                        <Lucide name="Lightbulb" size={18} className="text-indigo-400 shrink-0 mt-0.5" />
                                        <div>
                                            <div className="text-sm font-bold text-indigo-300 mb-1">‰øÆÂ§çÂª∫ËÆÆ</div>
                                            <p className="text-sm text-white/60">{issue.suggestion}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Actions */}
                            <div className="px-5 py-4 border-t border-white/5 flex items-center justify-between bg-white/[0.02]">
                                <div className="flex items-center gap-2">
                                    <button className="px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-xs font-bold flex items-center gap-1.5 transition-colors">
                                        <Lucide name="Zap" size={12} /> Ëá™Âä®‰øÆÂ§ç
                                    </button>
                                    <button className="px-3 py-1.5 bg-white/5 hover:bg-white/10 text-white/60 rounded-lg text-xs font-medium flex items-center gap-1.5 transition-colors">
                                        <Lucide name="Copy" size={12} /> Â§çÂà∂‰øÆÂ§ç‰ª£Á†Å
                                    </button>
                                </div>
                                <div className="flex items-center gap-2">
                                    <button className="p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-emerald-400 transition-colors" title="Ê†áËÆ∞‰∏∫Â∑≤Ëß£ÂÜ≥">
                                        <Lucide name="CheckCircle2" size={16} />
                                    </button>
                                    <button className="p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-rose-400 transition-colors" title="ÂøΩÁï•Ê≠§ÈóÆÈ¢ò">
                                        <Lucide name="XCircle" size={16} />
                                    </button>
                                    <button className="p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-white transition-colors" title="Ê∑ªÂä†ËØÑËÆ∫">
                                        <Lucide name="MessageSquare" size={16} />
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // --- Main View ---
        const CodeReviewView = () => {
            const [activeTab, setActiveTab] = useState('issues');
            const [severityFilter, setSeverityFilter] = useState('all');
            const [expandedIssue, setExpandedIssue] = useState(1);

            const filteredIssues = REVIEW_DATA.issues.filter(issue => {
                if (severityFilter === 'all') return true;
                return issue.severity === severityFilter;
            });

            const issueStats = {
                critical: REVIEW_DATA.issues.filter(i => i.severity === 'critical').length,
                high: REVIEW_DATA.issues.filter(i => i.severity === 'high').length,
                medium: REVIEW_DATA.issues.filter(i => i.severity === 'medium').length,
                low: REVIEW_DATA.issues.filter(i => i.severity === 'low').length,
                info: REVIEW_DATA.issues.filter(i => i.severity === 'info').length,
            };

            return (
                <div className="min-h-screen bg-black text-slate-200">
                    <Navbar active="" />
                    <div className="fade-in">
                        {/* Header */}
                        <div className="bg-[#0F0F0F] border-b border-white/5 px-8 py-6">
                            <div className="max-w-[1400px] mx-auto">
                                <a href="pipeline.html" className="flex items-center gap-2 text-white/40 hover:text-white text-sm mb-6 transition-colors">
                                    <Lucide name="ArrowLeft" size={16} /> ËøîÂõûÊµÅÊ∞¥Á∫ø
                                </a>
                                <div className="flex items-start justify-between">
                                    <div className="flex items-start gap-6">
                                        <div className={`w-16 h-16 rounded-2xl flex items-center justify-center ${
                                            REVIEW_DATA.aiScore >= 80 ? 'bg-emerald-500/20 text-emerald-400' :
                                            REVIEW_DATA.aiScore >= 60 ? 'bg-amber-500/20 text-amber-400' :
                                            'bg-rose-500/20 text-rose-400'
                                        }`}>
                                            <span className="text-2xl font-bold">{REVIEW_DATA.aiScore}</span>
                                        </div>
                                        <div>
                                            <div className="flex items-center gap-3 mb-2">
                                                <h2 className="text-2xl font-bold text-white">{REVIEW_DATA.id}</h2>
                                                <span className="px-3 py-1 bg-amber-500/10 text-amber-400 border border-amber-500/20 rounded-full text-xs font-bold">
                                                    ÈúÄË¶Å‰øÆÊîπ
                                                </span>
                                            </div>
                                            <p className="text-white/60 mb-3">{REVIEW_DATA.title}</p>
                                            <div className="flex items-center gap-4 text-xs text-white/40">
                                                <span className="flex items-center gap-1.5 bg-white/5 px-2 py-1 rounded">
                                                    <Lucide name="GitMerge" size={12} className="text-orange-400" />
                                                    {REVIEW_DATA.branch} ‚Üí {REVIEW_DATA.targetBranch}
                                                </span>
                                                <span className="flex items-center gap-1.5">
                                                    <Lucide name="User" size={12} /> {REVIEW_DATA.author}
                                                </span>
                                                <span className="flex items-center gap-1.5">
                                                    <Lucide name="Clock" size={12} /> {REVIEW_DATA.createdAt}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <button className="px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors">
                                            <Lucide name="Zap" size={14} /> ‰∏ÄÈîÆ‰øÆÂ§çÊâÄÊúâÈóÆÈ¢ò
                                        </button>
                                        <button className="px-4 py-2 bg-white/5 hover:bg-white/10 text-white/60 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors">
                                            <Lucide name="ExternalLink" size={14} /> Âú® GitLab ‰∏≠Êü•Áúã
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Stats Bar */}
                        <div className="bg-[#0A0A0A] border-b border-white/5 px-8 py-4">
                            <div className="max-w-[1400px] mx-auto flex items-center gap-8">
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-white/5 rounded-lg">
                                        <Lucide name="FileCode" size={18} className="text-white/40" />
                                    </div>
                                    <div>
                                        <div className="text-xs text-white/40">ÂèòÊõ¥Êñá‰ª∂</div>
                                        <div className="text-lg font-bold text-white">{REVIEW_DATA.filesChanged}</div>
                                    </div>
                                </div>
                                <div className="w-px h-10 bg-white/10" />
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-white/5 rounded-lg">
                                        <Lucide name="Code" size={18} className="text-white/40" />
                                    </div>
                                    <div>
                                        <div className="text-xs text-white/40">‰ª£Á†ÅÂèòÊõ¥</div>
                                        <div className="text-lg font-bold">
                                            <span className="text-emerald-400">+{REVIEW_DATA.additions}</span>
                                            <span className="text-white/20 mx-1">/</span>
                                            <span className="text-rose-400">-{REVIEW_DATA.deletions}</span>
                                        </div>
                                    </div>
                                </div>
                                <div className="w-px h-10 bg-white/10" />
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-white/5 rounded-lg">
                                        <Lucide name="AlertTriangle" size={18} className="text-white/40" />
                                    </div>
                                    <div>
                                        <div className="text-xs text-white/40">ÂèëÁé∞ÈóÆÈ¢ò</div>
                                        <div className="text-lg font-bold text-amber-400">{REVIEW_DATA.issues.length}</div>
                                    </div>
                                </div>
                                <div className="w-px h-10 bg-white/10" />
                                <div className="flex items-center gap-6">
                                    <div className="flex items-center gap-2">
                                        <span className="w-3 h-3 rounded-full bg-rose-500"></span>
                                        <span className="text-sm text-white/60">‰∏•Èáç <span className="font-bold text-white">{issueStats.critical}</span></span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="w-3 h-3 rounded-full bg-orange-500"></span>
                                        <span className="text-sm text-white/60">È´ò <span className="font-bold text-white">{issueStats.high}</span></span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="w-3 h-3 rounded-full bg-amber-500"></span>
                                        <span className="text-sm text-white/60">‰∏≠ <span className="font-bold text-white">{issueStats.medium}</span></span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="w-3 h-3 rounded-full bg-blue-500"></span>
                                        <span className="text-sm text-white/60">‰Ωé <span className="font-bold text-white">{issueStats.low}</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Main Content */}
                        <div className="max-w-[1400px] mx-auto px-8 py-8">
                            <div className="flex gap-8">
                                {/* Left: Issues List */}
                                <div className="flex-1 space-y-6">
                                    {/* Tabs & Filters */}
                                    <div className="flex items-center justify-between">
                                        <div className="flex items-center gap-1 bg-white/5 p-1 rounded-lg border border-white/5">
                                            {[
                                                { id: 'issues', label: 'ÈóÆÈ¢òÂàóË°®', icon: 'AlertTriangle' },
                                                { id: 'files', label: 'Êñá‰ª∂ÂèòÊõ¥', icon: 'FileCode' },
                                            ].map(tab => (
                                                <button
                                                    key={tab.id}
                                                    onClick={() => setActiveTab(tab.id)}
                                                    className={`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${
                                                        activeTab === tab.id ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white/80'
                                                    }`}
                                                >
                                                    <Lucide name={tab.icon} size={14} /> {tab.label}
                                                </button>
                                            ))}
                                        </div>
                                        <div className="flex items-center gap-3">
                                            <div className="flex items-center bg-white/5 rounded-lg p-1 border border-white/5">
                                                {[
                                                    { id: 'all', label: 'ÂÖ®ÈÉ®' },
                                                    { id: 'critical', label: '‰∏•Èáç' },
                                                    { id: 'high', label: 'È´ò' },
                                                    { id: 'medium', label: '‰∏≠' },
                                                ].map(filter => (
                                                    <button
                                                        key={filter.id}
                                                        onClick={() => setSeverityFilter(filter.id)}
                                                        className={`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${
                                                            severityFilter === filter.id ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white/80'
                                                        }`}
                                                    >
                                                        {filter.label}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Issues */}
                                    {activeTab === 'issues' && (
                                        <div className="space-y-4">
                                            {filteredIssues.map(issue => (
                                                <IssueCard
                                                    key={issue.id}
                                                    issue={issue}
                                                    isExpanded={expandedIssue === issue.id}
                                                    onToggle={() => setExpandedIssue(expandedIssue === issue.id ? null : issue.id)}
                                                />
                                            ))}
                                            {filteredIssues.length === 0 && (
                                                <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-16 text-center">
                                                    <div className="w-16 h-16 bg-emerald-500/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                                        <Lucide name="CheckCircle2" size={32} className="text-emerald-400" />
                                                    </div>
                                                    <div className="text-white/40 text-sm">Ê≤°ÊúâÊâæÂà∞ËØ•Á∫ßÂà´ÁöÑÈóÆÈ¢ò</div>
                                                </div>
                                            )}
                                        </div>
                                    )}

                                    {/* Files Tab */}
                                    {activeTab === 'files' && (
                                        <div className="bg-[#0F0F0F] border border-white/5 rounded-xl overflow-hidden">
                                            <div className="divide-y divide-white/5">
                                                {REVIEW_DATA.files.map((file, idx) => (
                                                    <div key={idx} className="p-4 hover:bg-white/[0.02] transition-colors cursor-pointer">
                                                        <div className="flex items-center justify-between">
                                                            <div className="flex items-center gap-3">
                                                                <Lucide name="FileCode" size={18} className="text-indigo-400" />
                                                                <span className="font-mono text-sm text-white/80">{file.name}</span>
                                                                {file.issues > 0 && (
                                                                    <span className="px-2 py-0.5 bg-amber-500/10 text-amber-400 rounded text-xs font-bold">
                                                                        {file.issues} ÈóÆÈ¢ò
                                                                    </span>
                                                                )}
                                                            </div>
                                                            <div className="flex items-center gap-4 text-sm">
                                                                <span className="text-emerald-400">+{file.additions}</span>
                                                                <span className="text-rose-400">-{file.deletions}</span>
                                                                <Lucide name="ChevronRight" size={16} className="text-white/20" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>

                                {/* Right: Summary Sidebar */}
                                <div className="w-80 shrink-0 space-y-6">
                                    {/* AI Summary */}
                                    <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-6">
                                        <h3 className="text-sm font-bold text-white mb-4 flex items-center gap-2">
                                            <Lucide name="Sparkles" size={16} className="text-indigo-400" /> AI ÂÆ°Êü•ÊëòË¶Å
                                        </h3>
                                        <div className="space-y-4 text-sm text-white/60">
                                            <p>
                                                Êú¨Ê¨°Êèê‰∫§ÂÆûÁé∞‰∫Ü Level 2 Áî®Êà∑ËøêË¥πËÆ°ÁÆóÈÄªËæëÔºå‰ΩÜÂ≠òÂú® <span className="text-rose-400 font-bold">1 ‰∏™‰∏•ÈáçÂÆâÂÖ®ÊºèÊ¥û</span> ÈúÄË¶ÅÁ´ãÂç≥‰øÆÂ§ç„ÄÇ
                                            </p>
                                            <p>
                                                Âª∫ËÆÆ‰ºòÂÖàÂ§ÑÁêÜ SQL Ê≥®ÂÖ•È£éÈô©ÔºåÁÑ∂ÂêéÂÆåÂñÑËæπÁïåÊù°‰ª∂Ê£ÄÊü•„ÄÇÊÄßËÉΩÂíå‰ª£Á†ÅËßÑËåÉÈóÆÈ¢òÂèØÂú®ÂêéÁª≠Ëø≠‰ª£‰∏≠‰ºòÂåñ„ÄÇ
                                            </p>
                                        </div>
                                        <div className="mt-4 pt-4 border-t border-white/5">
                                            <div className="flex items-center justify-between text-xs">
                                                <span className="text-white/40">ÂÆ°Êü•ËÄóÊó∂</span>
                                                <span className="text-white/80 font-bold">12.3 Áßí</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Quick Actions */}
                                    <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-6">
                                        <h3 className="text-sm font-bold text-white mb-4">Âø´Êç∑Êìç‰Ωú</h3>
                                        <div className="space-y-2">
                                            <button className="w-full px-4 py-3 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors border border-emerald-500/20">
                                                <Lucide name="Zap" size={16} /> ‰øÆÂ§çÊâÄÊúâÂÆâÂÖ®ÈóÆÈ¢ò
                                            </button>
                                            <button className="w-full px-4 py-3 bg-white/5 hover:bg-white/10 text-white/60 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors">
                                                <Lucide name="RotateCcw" size={16} /> ÈáçÊñ∞ËøêË°åÂÆ°Êü•
                                            </button>
                                            <button className="w-full px-4 py-3 bg-white/5 hover:bg-white/10 text-white/60 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors">
                                                <Lucide name="MessageSquare" size={16} /> ÂèëËµ∑ËÆ®ËÆ∫
                                            </button>
                                        </div>
                                    </div>

                                    {/* Reviewers */}
                                    <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-6">
                                        <h3 className="text-sm font-bold text-white mb-4">ÂÆ°Êü•ËÄÖ</h3>
                                        <div className="space-y-3">
                                            <div className="flex items-center justify-between">
                                                <div className="flex items-center gap-3">
                                                    <div className="w-8 h-8 rounded-full bg-indigo-500/20 flex items-center justify-center">
                                                        <Lucide name="Sparkles" size={16} className="text-indigo-400" />
                                                    </div>
                                                    <div>
                                                        <div className="text-sm text-white font-medium">CodeSentinel AI</div>
                                                        <div className="text-xs text-white/40">Ëá™Âä®ÂÆ°Êü•</div>
                                                    </div>
                                                </div>
                                                <span className="text-xs text-amber-400 font-bold">ÈúÄ‰øÆÊîπ</span>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <div className="flex items-center gap-3">
                                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=ÊùéÂõõ" className="w-8 h-8 rounded-full bg-black" />
                                                    <div>
                                                        <div className="text-sm text-white font-medium">ÊùéÂõõ</div>
                                                        <div className="text-xs text-white/40">Tech Lead</div>
                                                    </div>
                                                </div>
                                                <span className="text-xs text-white/30">ÂæÖÂÆ°Ê†∏</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CodeReviewView />);
    </script>
</body>

</html>
