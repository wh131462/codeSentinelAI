<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeSentinel - 项目管理</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            background-color: #000;
            color: #e2e8f0;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scrollbar-thin::-webkit-scrollbar { width: 4px; }
        .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
        .scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Icons ---
        const Icons = {
            Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />,
            Folder: <><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" /></>,
            FolderOpen: <><path d="m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2" /></>,
            GitPullRequest: <><circle cx="18" cy="18" r="3" /><circle cx="6" cy="6" r="3" /><path d="M13 6h3a2 2 0 0 1 2 2v7" /><line x1="6" x2="6" y1="9" y2="21" /></>,
            GitMerge: <><circle cx="18" cy="18" r="3" /><circle cx="6" cy="6" r="3" /><path d="M6 21V9a9 9 0 0 0 9 9" /></>,
            GitCommit: <><circle cx="12" cy="12" r="3" /><line x1="3" x2="9" y1="12" y2="12" /><line x1="15" x2="21" y1="12" y2="12" /></>,
            CheckCircle2: <><circle cx="12" cy="12" r="10" /><path d="m9 12 2 2 4-4" /></>,
            AlertTriangle: <><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" /><line x1="12" x2="12" y1="9" y2="13" /><line x1="12" x2="12.01" y1="17" y2="17" /></>,
            Loader2: <path d="M21 12a9 9 0 1 1-6.219-8.56" />,
            Search: <><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></>,
            Plus: <><path d="M5 12h14" /><path d="M12 5v14" /></>,
            Settings: <><circle cx="12" cy="12" r="3" /><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" /></>,
            Star: <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />,
            Users: <><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M22 21v-2a4 4 0 0 0-3-3.87" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /></>,
            Activity: <path d="M22 12h-4l-3 9L9 3l-3 9H2" />,
            Clock: <><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>,
            MoreVertical: <><circle cx="12" cy="12" r="1" /><circle cx="12" cy="5" r="1" /><circle cx="12" cy="19" r="1" /></>,
            ExternalLink: <><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" /><polyline points="15 3 21 3 21 9" /><line x1="10" x2="21" y1="14" y2="3" /></>,
            Grid: <><rect width="7" height="7" x="3" y="3" rx="1" /><rect width="7" height="7" x="14" y="3" rx="1" /><rect width="7" height="7" x="14" y="14" rx="1" /><rect width="7" height="7" x="3" y="14" rx="1" /></>,
            List: <><line x1="8" x2="21" y1="6" y2="6" /><line x1="8" x2="21" y1="12" y2="12" /><line x1="8" x2="21" y1="18" y2="18" /><line x1="3" x2="3.01" y1="6" y2="6" /><line x1="3" x2="3.01" y1="12" y2="12" /><line x1="3" x2="3.01" y1="18" y2="18" /></>,
            Zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />,
            FileText: <><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /></>,
            Bug: <><path d="m8 2 1.88 1.88" /><path d="M14.12 3.88 16 2" /><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1" /><path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6" /><path d="M12 20v-9" /></>,
            TestTube: <><path d="M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2" /><path d="M8.5 2h7" /><path d="M14.5 16h-5" /></>,
        };

        const Lucide = ({ name, className, size = 16 }) => {
            const icon = Icons[name];
            return icon ? (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icon}
                </svg>
            ) : null;
        };

        // --- Navbar ---
        const Navbar = ({ active }) => (
            <nav className="h-16 flex items-center justify-between px-8 border-b border-white/5 bg-[#0A0A0A]/80 backdrop-blur-md sticky top-0 z-50">
                <div className="flex items-center gap-8">
                    <a href="index.html" className="flex items-center gap-3 group">
                        <div className="w-9 h-9 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-500/20 group-hover:scale-105 transition-transform">
                            <Lucide name="Shield" className="text-white" size={20} />
                        </div>
                        <span className="font-bold text-xl tracking-tight text-white group-hover:text-white/90 transition-colors">
                            CodeSentinel <span className="text-indigo-400 text-xs ml-1 font-normal bg-indigo-500/10 px-1.5 py-0.5 rounded border border-indigo-500/20">Ent</span>
                        </span>
                    </a>
                    <div className="hidden md:flex items-center bg-white/5 rounded-lg p-1 border border-white/5">
                        {[
                            { id: 'overview', label: '仪表盘', href: 'overview.html' },
                            { id: 'workspace', label: '工作台', href: 'workspace.html' },
                            { id: 'mapping', label: '需求映射', href: 'mapping.html' },
                            { id: 'pipeline', label: '流水线', href: 'pipeline.html' },
                            { id: 'configuration', label: '仓库配置', href: 'configuration.html' }
                        ].map((item) => (
                            <a key={item.id} href={item.href} className={`px-5 py-1.5 rounded-md text-sm font-medium transition-all ${active === item.id ? 'bg-white/10 text-white shadow-sm' : 'text-white/40 hover:text-white/80 hover:bg-white/5'}`}>
                                {item.label}
                            </a>
                        ))}
                    </div>
                </div>
                <div className="flex items-center gap-4">
                    <a href="settings.html" className="p-2 rounded-lg hover:bg-white/5 text-white/40 hover:text-white transition-all" title="系统设置">
                        <Lucide name="Settings" size={20} />
                    </a>
                    <div className="flex items-center gap-3 pl-4 border-l border-white/10">
                        <div className="flex flex-col items-end">
                            <span className="text-xs font-medium text-white">张三 (Dev)</span>
                            <span className="text-[10px] text-white/40">GitLab Pro</span>
                        </div>
                        <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 p-[1px]">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" className="w-full h-full rounded-full bg-black" />
                        </div>
                    </div>
                </div>
            </nav>
        );

        // --- Mock Data ---
        const PROJECTS = [
            {
                id: '1',
                name: '电商核心交易系统',
                description: '支撑百万级订单的核心交易引擎，包含购物车、订单、支付等模块',
                gitUrl: 'gitlab.com/corp/trade-core',
                status: 'healthy',
                language: 'Java',
                languageColor: '#b07219',
                lastActivity: '2 分钟前',
                members: 12,
                branches: 8,
                openMRs: 3,
                coverage: 87.5,
                issues: 2,
                starred: true,
                activePipeline: { id: '#2847', status: 'running' },
                stats: { commits: 1234, tests: 456, docs: 12 }
            },
            {
                id: '2',
                name: '用户中心微服务',
                description: '用户认证、授权、个人信息管理等功能的微服务',
                gitUrl: 'gitlab.com/corp/user-service',
                status: 'healthy',
                language: 'Go',
                languageColor: '#00ADD8',
                lastActivity: '2 小时前',
                members: 6,
                branches: 4,
                openMRs: 1,
                coverage: 92.3,
                issues: 0,
                starred: true,
                activePipeline: null,
                stats: { commits: 567, tests: 234, docs: 8 }
            },
            {
                id: '3',
                name: '支付网关服务',
                description: '对接多种支付渠道的统一支付网关，支持微信、支付宝等',
                gitUrl: 'gitlab.com/corp/payment-gateway',
                status: 'warning',
                language: 'Java',
                languageColor: '#b07219',
                lastActivity: '5 小时前',
                members: 8,
                branches: 5,
                openMRs: 2,
                coverage: 78.6,
                issues: 5,
                starred: false,
                activePipeline: { id: '#2845', status: 'failed' },
                stats: { commits: 890, tests: 345, docs: 15 }
            },
            {
                id: '4',
                name: '库存管理系统',
                description: '实时库存管理、预警、盘点等功能模块',
                gitUrl: 'gitlab.com/corp/inventory-service',
                status: 'error',
                language: 'Python',
                languageColor: '#3572A5',
                lastActivity: '1 天前',
                members: 4,
                branches: 3,
                openMRs: 0,
                coverage: 65.2,
                issues: 8,
                starred: false,
                activePipeline: null,
                stats: { commits: 432, tests: 156, docs: 6 }
            },
            {
                id: '5',
                name: '数据分析平台',
                description: '业务数据分析、报表生成、可视化展示平台',
                gitUrl: 'gitlab.com/corp/analytics-platform',
                status: 'healthy',
                language: 'TypeScript',
                languageColor: '#3178c6',
                lastActivity: '3 小时前',
                members: 5,
                branches: 6,
                openMRs: 2,
                coverage: 85.1,
                issues: 1,
                starred: false,
                activePipeline: { id: '#2846', status: 'success' },
                stats: { commits: 678, tests: 289, docs: 10 }
            },
            {
                id: '6',
                name: '消息推送服务',
                description: '统一消息推送服务，支持短信、邮件、站内信等渠道',
                gitUrl: 'gitlab.com/corp/notification-service',
                status: 'healthy',
                language: 'Node.js',
                languageColor: '#339933',
                lastActivity: '6 小时前',
                members: 3,
                branches: 2,
                openMRs: 0,
                coverage: 91.8,
                issues: 0,
                starred: false,
                activePipeline: null,
                stats: { commits: 234, tests: 123, docs: 4 }
            }
        ];

        // --- Components ---
        const StatusIndicator = ({ status }) => {
            const config = {
                healthy: { color: 'emerald', label: '健康' },
                warning: { color: 'amber', label: '警告' },
                error: { color: 'rose', label: '异常' }
            };
            const { color, label } = config[status] || config.healthy;
            return (
                <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 bg-${color}-500/10 text-${color}-400 border border-${color}-500/20 rounded-full text-xs font-bold`}>
                    <span className={`w-2 h-2 rounded-full bg-${color}-500 ${status === 'healthy' ? '' : 'animate-pulse'}`}></span>
                    {label}
                </span>
            );
        };

        const ProjectCard = ({ project, viewMode }) => {
            if (viewMode === 'grid') {
                return (
                    <a href="workspace.html" className={`bg-[#0F0F0F] border rounded-xl p-6 hover:border-white/10 transition-all group cursor-pointer block ${
                        project.status === 'error' ? 'border-rose-500/30' :
                        project.status === 'warning' ? 'border-amber-500/30' :
                        'border-white/5'
                    }`}>
                        <div className="flex items-start justify-between mb-4">
                            <div className="flex items-center gap-3">
                                <div className="w-12 h-12 rounded-xl bg-indigo-500/10 text-indigo-400 flex items-center justify-center border border-indigo-500/20 group-hover:scale-105 transition-transform">
                                    <Lucide name="Folder" size={24} />
                                </div>
                                <div>
                                    <div className="flex items-center gap-2">
                                        <h4 className="text-white font-bold group-hover:text-indigo-300 transition-colors">{project.name}</h4>
                                        {project.starred && <Lucide name="Star" size={14} className="text-amber-400 fill-amber-400" />}
                                    </div>
                                    <div className="flex items-center gap-2 text-xs text-white/30">
                                        <span className="w-2 h-2 rounded-full" style={{ backgroundColor: project.languageColor }}></span>
                                        {project.language}
                                    </div>
                                </div>
                            </div>
                            <StatusIndicator status={project.status} />
                        </div>

                        <p className="text-sm text-white/40 mb-4 line-clamp-2">{project.description}</p>

                        {/* Stats */}
                        <div className="grid grid-cols-3 gap-3 mb-4">
                            <div className="bg-black/40 rounded-lg p-3 text-center">
                                <div className="text-lg font-bold text-white">{project.coverage}%</div>
                                <div className="text-[10px] text-white/40">覆盖率</div>
                            </div>
                            <div className="bg-black/40 rounded-lg p-3 text-center">
                                <div className={`text-lg font-bold ${project.issues > 0 ? 'text-amber-400' : 'text-emerald-400'}`}>{project.issues}</div>
                                <div className="text-[10px] text-white/40">问题</div>
                            </div>
                            <div className="bg-black/40 rounded-lg p-3 text-center">
                                <div className="text-lg font-bold text-indigo-400">{project.openMRs}</div>
                                <div className="text-[10px] text-white/40">MR</div>
                            </div>
                        </div>

                        {/* Active Pipeline */}
                        {project.activePipeline && (
                            <div className={`mb-4 px-3 py-2 rounded-lg border ${
                                project.activePipeline.status === 'running' ? 'bg-indigo-500/10 border-indigo-500/20' :
                                project.activePipeline.status === 'success' ? 'bg-emerald-500/10 border-emerald-500/20' :
                                'bg-rose-500/10 border-rose-500/20'
                            }`}>
                                <div className="flex items-center justify-between text-xs">
                                    <span className="flex items-center gap-1.5">
                                        {project.activePipeline.status === 'running' && <Lucide name="Loader2" size={12} className="text-indigo-400 animate-spin" />}
                                        {project.activePipeline.status === 'success' && <Lucide name="CheckCircle2" size={12} className="text-emerald-400" />}
                                        {project.activePipeline.status === 'failed' && <Lucide name="AlertTriangle" size={12} className="text-rose-400" />}
                                        <span className={`font-mono ${
                                            project.activePipeline.status === 'running' ? 'text-indigo-400' :
                                            project.activePipeline.status === 'success' ? 'text-emerald-400' :
                                            'text-rose-400'
                                        }`}>{project.activePipeline.id}</span>
                                    </span>
                                    <span className="text-white/40">
                                        {project.activePipeline.status === 'running' ? '运行中' :
                                         project.activePipeline.status === 'success' ? '已完成' : '失败'}
                                    </span>
                                </div>
                            </div>
                        )}

                        {/* Footer */}
                        <div className="flex items-center justify-between text-xs text-white/30 pt-4 border-t border-white/5">
                            <div className="flex items-center gap-3">
                                <span className="flex items-center gap-1">
                                    <Lucide name="Users" size={12} /> {project.members}
                                </span>
                                <span className="flex items-center gap-1">
                                    <Lucide name="GitMerge" size={12} /> {project.branches}
                                </span>
                            </div>
                            <span className="flex items-center gap-1">
                                <Lucide name="Clock" size={12} /> {project.lastActivity}
                            </span>
                        </div>
                    </a>
                );
            }

            // List view
            return (
                <a href="workspace.html" className={`bg-[#0F0F0F] border rounded-xl p-5 hover:border-white/10 transition-all group cursor-pointer block ${
                    project.status === 'error' ? 'border-rose-500/30' :
                    project.status === 'warning' ? 'border-amber-500/30' :
                    'border-white/5'
                }`}>
                    <div className="flex items-center gap-6">
                        <div className="w-12 h-12 rounded-xl bg-indigo-500/10 text-indigo-400 flex items-center justify-center border border-indigo-500/20 shrink-0 group-hover:scale-105 transition-transform">
                            <Lucide name="Folder" size={24} />
                        </div>
                        <div className="flex-1 min-w-0">
                            <div className="flex items-center gap-3 mb-1">
                                <h4 className="text-white font-bold group-hover:text-indigo-300 transition-colors">{project.name}</h4>
                                {project.starred && <Lucide name="Star" size={14} className="text-amber-400 fill-amber-400" />}
                                <span className="flex items-center gap-1 text-xs text-white/30">
                                    <span className="w-2 h-2 rounded-full" style={{ backgroundColor: project.languageColor }}></span>
                                    {project.language}
                                </span>
                            </div>
                            <p className="text-sm text-white/40 truncate">{project.description}</p>
                        </div>
                        <div className="flex items-center gap-6 shrink-0">
                            <div className="text-center">
                                <div className="text-lg font-bold text-white">{project.coverage}%</div>
                                <div className="text-[10px] text-white/40">覆盖率</div>
                            </div>
                            <div className="text-center">
                                <div className={`text-lg font-bold ${project.issues > 0 ? 'text-amber-400' : 'text-emerald-400'}`}>{project.issues}</div>
                                <div className="text-[10px] text-white/40">问题</div>
                            </div>
                            <div className="text-center">
                                <div className="text-lg font-bold text-indigo-400">{project.openMRs}</div>
                                <div className="text-[10px] text-white/40">MR</div>
                            </div>
                            <StatusIndicator status={project.status} />
                            <div className="flex items-center gap-2">
                                <span className="text-xs text-white/30 flex items-center gap-1">
                                    <Lucide name="Clock" size={12} /> {project.lastActivity}
                                </span>
                                <button className="p-2 hover:bg-white/10 rounded-lg text-white/30 hover:text-white transition-colors">
                                    <Lucide name="MoreVertical" size={16} />
                                </button>
                            </div>
                        </div>
                    </div>
                </a>
            );
        };

        // --- Main View ---
        const ProjectsView = () => {
            const [viewMode, setViewMode] = useState('grid');
            const [statusFilter, setStatusFilter] = useState('all');
            const [searchQuery, setSearchQuery] = useState('');
            const [showNewProjectModal, setShowNewProjectModal] = useState(false);

            const filteredProjects = PROJECTS.filter(project => {
                if (statusFilter !== 'all' && project.status !== statusFilter) return false;
                if (searchQuery && !project.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;
                return true;
            });

            const stats = {
                total: PROJECTS.length,
                healthy: PROJECTS.filter(p => p.status === 'healthy').length,
                warning: PROJECTS.filter(p => p.status === 'warning').length,
                error: PROJECTS.filter(p => p.status === 'error').length,
            };

            return (
                <div className="min-h-screen bg-black text-slate-200">
                    <Navbar active="" />
                    <div className="max-w-[1400px] mx-auto px-6 py-8 space-y-6 fade-in">
                        {/* Header */}
                        <div className="flex justify-between items-end">
                            <div className="space-y-1">
                                <h2 className="text-3xl font-bold text-white tracking-tight">项目管理</h2>
                                <p className="text-white/40 text-sm">管理所有已接入 CodeSentinel 的代码仓库</p>
                            </div>
                            <button
                                onClick={() => setShowNewProjectModal(true)}
                                className="px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl text-sm font-bold flex items-center gap-2 transition-colors shadow-lg shadow-indigo-600/20"
                            >
                                <Lucide name="Plus" size={16} /> 添加项目
                            </button>
                        </div>

                        {/* Stats */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <div className="p-2 bg-indigo-500/10 rounded-lg text-indigo-400">
                                        <Lucide name="Folder" size={18} />
                                    </div>
                                    <span className="text-xs text-white/40 uppercase tracking-wider">项目总数</span>
                                </div>
                                <div className="text-2xl font-bold text-white">{stats.total}</div>
                            </div>
                            <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <div className="p-2 bg-emerald-500/10 rounded-lg text-emerald-400">
                                        <Lucide name="CheckCircle2" size={18} />
                                    </div>
                                    <span className="text-xs text-white/40 uppercase tracking-wider">健康</span>
                                </div>
                                <div className="text-2xl font-bold text-emerald-400">{stats.healthy}</div>
                            </div>
                            <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <div className="p-2 bg-amber-500/10 rounded-lg text-amber-400">
                                        <Lucide name="AlertTriangle" size={18} />
                                    </div>
                                    <span className="text-xs text-white/40 uppercase tracking-wider">警告</span>
                                </div>
                                <div className="text-2xl font-bold text-amber-400">{stats.warning}</div>
                            </div>
                            <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <div className="p-2 bg-rose-500/10 rounded-lg text-rose-400">
                                        <Lucide name="Bug" size={18} />
                                    </div>
                                    <span className="text-xs text-white/40 uppercase tracking-wider">异常</span>
                                </div>
                                <div className="text-2xl font-bold text-rose-400">{stats.error}</div>
                            </div>
                        </div>

                        {/* Filters */}
                        <div className="flex items-center justify-between gap-4 bg-[#0F0F0F] border border-white/5 rounded-xl p-4">
                            <div className="flex items-center gap-3">
                                <div className="flex items-center bg-white/5 rounded-lg p-1 border border-white/5">
                                    {[
                                        { id: 'all', label: '全部' },
                                        { id: 'healthy', label: '健康' },
                                        { id: 'warning', label: '警告' },
                                        { id: 'error', label: '异常' },
                                    ].map(filter => (
                                        <button
                                            key={filter.id}
                                            onClick={() => setStatusFilter(filter.id)}
                                            className={`px-3 py-1.5 rounded-md text-xs font-medium transition-all ${
                                                statusFilter === filter.id ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white/80'
                                            }`}
                                        >
                                            {filter.label}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="relative w-64">
                                    <Lucide name="Search" size={14} className="absolute left-3 top-2.5 text-white/30" />
                                    <input
                                        type="text"
                                        placeholder="搜索项目..."
                                        value={searchQuery}
                                        onChange={(e) => setSearchQuery(e.target.value)}
                                        className="w-full bg-black/50 border border-white/10 rounded-lg pl-9 pr-4 py-2 text-sm text-white placeholder-white/30 focus:outline-none focus:border-indigo-500/50"
                                    />
                                </div>
                                <div className="flex items-center bg-white/5 rounded-lg p-1 border border-white/5">
                                    <button
                                        onClick={() => setViewMode('grid')}
                                        className={`p-2 rounded-md transition-all ${viewMode === 'grid' ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white/80'}`}
                                    >
                                        <Lucide name="Grid" size={14} />
                                    </button>
                                    <button
                                        onClick={() => setViewMode('list')}
                                        className={`p-2 rounded-md transition-all ${viewMode === 'list' ? 'bg-white/10 text-white' : 'text-white/40 hover:text-white/80'}`}
                                    >
                                        <Lucide name="List" size={14} />
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Project Grid/List */}
                        {viewMode === 'grid' ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {filteredProjects.map(project => (
                                    <ProjectCard key={project.id} project={project} viewMode={viewMode} />
                                ))}
                            </div>
                        ) : (
                            <div className="space-y-3">
                                {filteredProjects.map(project => (
                                    <ProjectCard key={project.id} project={project} viewMode={viewMode} />
                                ))}
                            </div>
                        )}

                        {filteredProjects.length === 0 && (
                            <div className="bg-[#0F0F0F] border border-white/5 rounded-xl p-16 text-center">
                                <div className="w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <Lucide name="Search" size={32} className="text-white/20" />
                                </div>
                                <div className="text-white/40 text-sm">没有找到匹配的项目</div>
                            </div>
                        )}

                        {/* New Project Modal */}
                        {showNewProjectModal && (
                            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50">
                                <div className="bg-[#0F0F0F] border border-white/10 rounded-2xl p-8 w-full max-w-lg">
                                    <div className="flex items-center justify-between mb-6">
                                        <h3 className="text-xl font-bold text-white">添加新项目</h3>
                                        <button
                                            onClick={() => setShowNewProjectModal(false)}
                                            className="p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-white transition-colors"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                <path d="M18 6 6 18M6 6l12 12" />
                                            </svg>
                                        </button>
                                    </div>
                                    <div className="space-y-6">
                                        <div>
                                            <label className="text-sm font-bold text-white/70 mb-2 block uppercase tracking-wide">GitLab 仓库地址</label>
                                            <input
                                                type="text"
                                                placeholder="https://gitlab.com/your-org/project.git"
                                                className="w-full bg-black/50 border border-white/10 rounded-xl px-5 py-4 text-white placeholder-white/30 focus:outline-none focus:border-indigo-500/50"
                                            />
                                        </div>
                                        <div>
                                            <label className="text-sm font-bold text-white/70 mb-2 block uppercase tracking-wide">项目名称</label>
                                            <input
                                                type="text"
                                                placeholder="我的项目"
                                                className="w-full bg-black/50 border border-white/10 rounded-xl px-5 py-4 text-white placeholder-white/30 focus:outline-none focus:border-indigo-500/50"
                                            />
                                        </div>
                                        <div>
                                            <label className="text-sm font-bold text-white/70 mb-2 block uppercase tracking-wide">项目描述</label>
                                            <textarea
                                                placeholder="简单描述项目用途..."
                                                rows={3}
                                                className="w-full bg-black/50 border border-white/10 rounded-xl px-5 py-4 text-white placeholder-white/30 focus:outline-none focus:border-indigo-500/50 resize-none"
                                            />
                                        </div>
                                    </div>
                                    <div className="mt-8 flex items-center gap-3">
                                        <button
                                            onClick={() => setShowNewProjectModal(false)}
                                            className="flex-1 px-4 py-3 bg-white/5 hover:bg-white/10 text-white/60 rounded-xl text-sm font-medium transition-colors"
                                        >
                                            取消
                                        </button>
                                        <button className="flex-1 px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl text-sm font-bold transition-colors">
                                            添加项目
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ProjectsView />);
    </script>
</body>

</html>
